<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Qt Toolkit - QFontMetrics Class</title><style type="text/css"><!--
h3.fn,span.fn { margin-left: 1cm; text-indent: -1cm; }
a:link { color: #004faf; text-decoration: none }
a:visited { color: #672967; text-decoration: none }body { background: white; color: black; }
--></style>
</head><body bgcolor="#ffffff">

<table width="100%">
<tr><td><a href="index.html">
<img width="100" height="100" src="qtlogo.png"
alt="Home" border="0"><img width="100"
height="100" src="face.png" alt="Home" border="0">
</a><td valign=top><div align=right><img src="dochead.png" width="472" height="27"><br>
<a href="classes.html"><b>Classes</b></a>
- <a href="annotated.html">Annotated</a>
- <a href="hierarchy.html">Tree</a>
- <a href="functions.html">Functions</a>
- <a href="index.html">Home</a>
- <a href="topicals.html"><b>Structure</b></a>
</div>
</table>

<h1 align=center>QFontMetrics Class Reference</h1><br clear="all">
<p>
The QFontMetrics class provides font metrics information about fonts.
<a href="#details">More...</a>
<p>
<code>#include &lt;<a href="qfontmetrics-h.html">qfontmetrics.h</a>&gt;</code>
<p><a href="qfontmetrics-members.html">List of all member functions.</a>
<h2>Public Members</h2>
<ul>
<li><div class="fn"><a href="#363268"><b>QFontMetrics</b></a> ( const QFont &amp; ) </div>
<li><div class="fn"><a href="#fc95ba"><b>QFontMetrics</b></a> ( const QFontMetrics &amp; ) </div>
<li><div class="fn"><a href="#ceab91"><b>~QFontMetrics</b></a> () </div>
<li><div class="fn">QFontMetrics&amp; <a href="#0643c3"><b>operator=</b></a> ( const QFontMetrics &amp; ) </div>
<li><div class="fn">int <a href="#401f81"><b>ascent</b></a> () const</div>
<li><div class="fn">int <a href="#a71895"><b>descent</b></a> () const</div>
<li><div class="fn">int <a href="#a37abf"><b>height</b></a> () const</div>
<li><div class="fn">int <a href="#b3d034"><b>leading</b></a> () const</div>
<li><div class="fn">int <a href="#ebe056"><b>lineSpacing</b></a> () const</div>
<li><div class="fn">int <a href="#e0dc16"><b>minLeftBearing</b></a> () const</div>
<li><div class="fn">int <a href="#3f0b8e"><b>minRightBearing</b></a> () const</div>
<li><div class="fn">int <a href="#d638e2"><b>maxWidth</b></a> () const</div>
<li><div class="fn">bool <a href="#7809ae"><b>inFont</b></a> ( QChar ) const</div>
<li><div class="fn">int <a href="#99380f"><b>leftBearing</b></a> ( QChar ) const</div>
<li><div class="fn">int <a href="#b48a19"><b>rightBearing</b></a> ( QChar ) const</div>
<li><div class="fn">int <a href="#321192"><b>width</b></a> ( const QString &amp;, int len = -1 ) const</div>
<li><div class="fn">int <a href="#d24db3"><b>width</b></a> ( QChar ) const</div>
<li><div class="fn">int width ( char c ) const <em>(obsolete)</em></div>
<li><div class="fn">QRect <a href="#6b03e1"><b>boundingRect</b></a> ( const QString &amp;, int len = -1 ) const</div>
<li><div class="fn">QRect <a href="#0f95c3"><b>boundingRect</b></a> ( QChar ) const</div>
<li><div class="fn">QRect <a href="#2fcf8c"><b>boundingRect</b></a> ( int x, int y, int w, int h, int flags, const QString &amp; str, int len=-1, int tabstops=0, int * tabarray=0, char ** intern=0 ) const</div>
<li><div class="fn">QSize <a href="#18c02f"><b>size</b></a> ( int flags, const QString &amp; str, int len=-1, int tabstops=0, int * tabarray=0, char ** intern=0 ) const</div>
<li><div class="fn">int <a href="#f95cf6"><b>underlinePos</b></a> () const</div>
<li><div class="fn">int <a href="#3d7ea3"><b>strikeOutPos</b></a> () const</div>
<li><div class="fn">int <a href="#eb52d8"><b>lineWidth</b></a> () const</div>
</ul>
<hr><h2><a name="details"></a>Detailed Description</h2>
The QFontMetrics class provides font metrics information about fonts.
<p>
QFontMetrics functions calculate size of characters and strings for
a given font. There are three ways you can create a QFontMetrics object:
<p>The QFontMetrics constructor with a <a href="qfont.html">QFont</a> creates a font metrics
object for a screen-compatible font, i.e. the font can not be a
printer font.
<p><a href="qwidget.html#d0d02b">QWidget::fontMetrics</a>() returns the font metrics for a widget's font.
This is equivalent to QFontMetrics(widget->font()).  Setting a new
font for the widget later does not affect the font metrics object.
<p><a href="qpainter.html#f572a5">QPainter::fontMetrics</a>() returns the font metrics for a painter's
current font. The font metrics object is automatically updated if
somebody sets a new painter font (unlike the two above cases, which
take a "snapshot" of a font).
<p>Once created, the object provides functions to access the individual
metrics of the font, its characters, and for strings rendered in
this font.
<p>There are several functions that operate on the font: <a href="#401f81">ascent</a>(),
<a href="#a71895">descent</a>(), <a href="#a37abf">height</a>(), <a href="#b3d034">leading</a>() and <a href="#ebe056">lineSpacing</a>() return the basic
size properties of the font, and <a href="#f95cf6">underlinePos</a>(), <a href="#3d7ea3">strikeOutPos</a>() and
<a href="#eb52d8">lineWidth</a>() return properties of the line that underlines or strikes
out the characters.  These functions are all fast.
<p>There are also some functions that operate on the set of glyphs in
the font: <a href="#e0dc16">minLeftBearing</a>(), <a href="#3f0b8e">minRightBearing</a>() and <a href="#d638e2">maxWidth</a>().  These
are by necessity slow, and we recommend avoiding them if possible.
<p>For each character, you can get its <a href="#321192">width</a>(), <a href="#99380f">leftBearing</a>() and
<a href="#b48a19">rightBearing</a>() and find out whether it is in the font using
<a href="#7809ae">inFont</a>().  You can also treat the character as a string, and use the
string functions on it.
<p>The string functions include width(), to return the width of a
string in pixels (or points, for a printer), <a href="#0f95c3">boundingRect</a>(), to
return the rectangle necessary to render a string, and <a href="#18c02f">size</a>(), to
return the size of that rectangle.
<p>Example:
<pre>    <a href="qfont.html">QFont</a> font("times",24);
    <a href="qfontmetrics.html">QFontMetrics</a> fm(font);
    int w = fm.<a href="#321192">width</a>("What's the width of this text");
    int h = fm.<a href="#a37abf">height</a>();
</pre>
<p>See also  <a href="qfont.html">QFont</a> and <a href="qfontinfo.html">QFontInfo</a>.
<p>Examples:
 <a href="grapher-grapher-cpp.html#QFontMetrics">grapher/grapher.cpp</a>
 <a href="xform-xform-cpp.html#QFontMetrics">xform/xform.cpp</a>
 <a href="drawdemo-drawdemo-cpp.html#QFontMetrics">drawdemo/drawdemo.cpp</a>
 <a href="scrollview-scrollview-cpp.html#QFontMetrics">scrollview/scrollview.cpp</a>
 <a href="movies-main-cpp.html#QFontMetrics">movies/main.cpp</a>

<hr><h2>Member Function Documentation</h2>
<h3 class="fn"><a name="363268"></a>QFontMetrics::QFontMetrics ( const <a href="qfont.html">QFont</a> &amp; font )</h3>
<p>Constructs a font metrics object for <em>font.</em>
<p>The font must be screen-compatible, i.e. a font you use when drawing
text in <a href="qwidget.html">QWidget</a> or <a href="qpixmap.html">QPixmap</a> objects, not <a href="qpicture.html">QPicture</a> or <a href="qprinter.html">QPrinter</a>.
If <em>font</em> is a printer font, you'll probably get wrong results.
<p>Use <a href="qpainter.html#f572a5">QPainter::fontMetrics</a>() to get the font metrics when painting.
This is a little slower than using this constructor, but it always
gives correct results.
<h3 class="fn"><a name="fc95ba"></a>QFontMetrics::QFontMetrics ( const QFontMetrics &amp; fm )</h3>
<p>Constructs a copy of <em>fm.</em>
<h3 class="fn"><a name="ceab91"></a>QFontMetrics::~QFontMetrics ()</h3>
<p>Destructs the font metrics object.
<h3 class="fn">int <a name="401f81"></a>QFontMetrics::ascent () const</h3>
<p>Returns the maximum ascent of the font.
<p>The ascent is the distance from the base line to the uppermost line
where pixels may be drawn.
<p>See also  <a href="#a71895">descent</a>().
<p>Examples:
 <a href="drawdemo-drawdemo-cpp.html#ascent">drawdemo/drawdemo.cpp</a>
 <a href="scrollview-scrollview-cpp.html#ascent">scrollview/scrollview.cpp</a>
<h3 class="fn"><a href="qrect.html">QRect</a> <a name="0f95c3"></a>QFontMetrics::boundingRect ( <a href="qchar.html">QChar</a> ch ) const</h3>
<p>Returns the bounding rectangle of <em>ch</em> relative to the leftmost
point on the base line.
<p>Note that the bounding rectangle may extend to the left of (0,0),
e.g. for italicized fonts, and that the text output may cover <em>all</em>
pixels in the bounding rectangle.
<p>Note that the rectangle usually extends both above and below the
base line.
<p>See also  <a href="#321192">width</a>().
<p>Examples:
 <a href="xform-xform-cpp.html#boundingRect">xform/xform.cpp</a>
<h3 class="fn"><a href="qrect.html">QRect</a> <a name="6b03e1"></a>QFontMetrics::boundingRect ( const <a href="qstring.html">QString</a> &amp; str, int len = -1 ) const</h3>
<p>Returns the bounding rectangle of the first <em>len</em> characters of <em>str,</em>
which is the set of pixels the text would cover if drawn at (0,0).
<p>If <em>len</em> is negative (default value), the whole string is used.
<p>Note that the bounding rectangle may extend to the left of (0,0),
e.g. for italicized fonts, and that the text output may cover <em>all</em>
pixels in the bounding rectangle.
<p>Newline characters are processed as regular characters, <em>not</em> as
linebreaks.
<p>Due to the different actual character heights, the height of the
bounding rectangle of e.g. "Yes" and "yes" may be different.
<p>See also  <a href="#321192">width</a>() and <a href="qpainter.html#03ed21">QPainter::boundingRect</a>().
<h3 class="fn"><a href="qrect.html">QRect</a> <a name="2fcf8c"></a>QFontMetrics::boundingRect ( int x, int y, int w, int h, int flgs, const <a href="qstring.html">QString</a> &amp; str, int len=-1, int tabstops=0, int * tabarray=0, char ** intern=0 ) const</h3>
<p>Returns the bounding rectangle of the first <em>len</em> characters of <em>str,</em>
which is the set of pixels the text would cover if drawn at (0,0). The
drawing, and hence the bounding rectangle, is constrained to the rectangle
<em>(x,y,w,h).</em>
<p>If <em>len</em> is negative (default value), the whole string is used.
<p>The <em>flgs</em> argument is
the bitwise OR of the following flags:  <ul>
<li> <code>AlignLeft</code> aligns to the left border.
<li> <code>AlignRight</code> aligns to the right border.
<li> <code>AlignHCenter</code> aligns horizontally centered.
<li> <code>AlignTop</code> aligns to the top border.
<li> <code>AlignBottom</code> aligns to the bottom border.
<li> <code>AlignVCenter</code> aligns vertically centered
<li> <code>AlignCenter</code> (= <code>AlignHCenter</code> | AlignVCenter)
<li> <code>SingleLine</code> ignores newline characters in the text.
<li> <code>ExpandTabs</code> expands tabulators.
<li> <code>ShowPrefix</code> interprets "&x" as "x" underlined.
<li> <code>WordBreak</code> breaks the text to fit the rectangle.
</ul>
<p>Horizontal alignment defaults to AlignLeft and vertical alignment
defaults to AlignTop.
<p>If several of the horizontal or several of the vertical alignment flags
are set, the resulting alignment is undefined.
<p>These flags are defined in <a href="qnamespace-h.html">qnamespace.h</a>.
<p>If <code>ExpandTabs</code> is set in <em>flgs,</em> then:
if <em>tabarray</em> is non.zero, it specifies a 0-terminated sequence
of pixel-positions for tabs; otherwise
if <em>tabstops</em> is non-zero, it is used as the tab spacing (in pixels).
<p>Note that the bounding rectangle may extend to the left of (0,0),
e.g. for italicized fonts, and that the text output may cover <em>all</em>
pixels in the bounding rectangle.
<p>Newline characters are processed as linebreaks.
<p>Despite the different actual character heights, the heights of the
bounding rectangles of "Yes" and "yes" are the same.
<p>The bounding rectangle given by this function is somewhat larger
than that calculated by the simpler <a href="#0f95c3">boundingRect</a>() function.  This
function uses the <a href="#e0dc16">maximum left</a> and
<a href="#3f0b8e">right</a> font bearings as is necessary
for multi-line text to align correctly.  Also, fontHeight() and
<a href="#ebe056">lineSpacing</a>() are used to calculate the height, rather than
individual character heights.
<p>The <em>internal</em> argument is for internal purposes.
<p>See also  <a href="#321192">width</a>(), <a href="qpainter.html#03ed21">QPainter::boundingRect</a>() and <a href="qt.html#AlignmentFlags">Qt::AlignmentFlags</a>.
<h3 class="fn">int <a name="a71895"></a>QFontMetrics::descent () const</h3>
<p>Returns the maximum descent of the font.
<p>The descent is the distance from the base line to the lowermost line
where pixels may be drawn. (Note that this is different from X, which
adds 1 pixel.)
<p>See also  <a href="#401f81">ascent</a>().
<p>Examples:
 <a href="drawdemo-drawdemo-cpp.html#descent">drawdemo/drawdemo.cpp</a>
<h3 class="fn">int <a name="a37abf"></a>QFontMetrics::height () const</h3>
<p>Returns the height of the font.
<p>This is always equal to <a href="#401f81">ascent</a>()+<a href="#a71895">descent</a>()+1 (the 1 is for the base line).
<p>See also  <a href="#b3d034">leading</a>() and <a href="#ebe056">lineSpacing</a>().
<p>Examples:
 <a href="grapher-grapher-cpp.html#height">grapher/grapher.cpp</a>
<h3 class="fn">bool <a name="7809ae"></a>QFontMetrics::inFont ( <a href="qchar.html">QChar</a> ch ) const</h3>
<p>Returns TRUE if <em>ch</em> is a valid character in the font.
<h3 class="fn">int <a name="b3d034"></a>QFontMetrics::leading () const</h3>
<p>Returns the leading of the font.
<p>This is the natural inter-line spacing.
<p>See also  <a href="#a37abf">height</a>() and <a href="#ebe056">lineSpacing</a>().
<h3 class="fn">int <a name="99380f"></a>QFontMetrics::leftBearing ( <a href="qchar.html">QChar</a> ch ) const</h3>
<p>Returns the left bearing of character <em>ch</em> in the font.
<p>The left bearing is the rightward distance of the left-most pixel
of the character from the logical origin of the character.
This value is negative if the pixels of the character extend
to the left of the logical origin.
<p>See <a href="#321192">width</a>(<a href="qchar.html">QChar</a>) for a graphical description of this metric.
<p>See also  <a href="#b48a19">rightBearing</a>(<a href="qchar.html">QChar</a>), <a href="#e0dc16">minLeftBearing</a>() and <a href="#321192">width</a>().
<h3 class="fn">int <a name="ebe056"></a>QFontMetrics::lineSpacing () const</h3>
<p>Returns the distance from one base line to the next.
<p>This value is always equal to <a href="#b3d034">leading</a>()+<a href="#a37abf">height</a>().
<p>See also  <a href="#a37abf">height</a>() and <a href="#b3d034">leading</a>().
<p>Examples:
 <a href="scrollview-scrollview-cpp.html#lineSpacing">scrollview/scrollview.cpp</a>
<h3 class="fn">int <a name="eb52d8"></a>QFontMetrics::lineWidth () const</h3>
<p>Returns the width of the underline and strike-out lines, adjusted for
the point size of the font.
<p>See also  <a href="#f95cf6">underlinePos</a>() and <a href="#3d7ea3">strikeOutPos</a>().
<h3 class="fn">int <a name="d638e2"></a>QFontMetrics::maxWidth () const</h3>
<p>Returns the width of the widest character in the font.
<h3 class="fn">int <a name="e0dc16"></a>QFontMetrics::minLeftBearing () const</h3>
<p>Returns the minimum left bearing of the font.
<p>This is the smallest <a href="#99380f">leftBearing</a>(char) of all characters in the font.
<p>Note that this function can be very slow if the font is big.
<p>See also  <a href="#3f0b8e">minRightBearing</a>() and <a href="#99380f">leftBearing</a>(char).
<h3 class="fn">int <a name="3f0b8e"></a>QFontMetrics::minRightBearing () const</h3>
<p>Returns the minimum right bearing of the font.
<p>This is the smallest <a href="#b48a19">rightBearing</a>(char) of all characters in the
font.
<p>Note that this function can be very slow if the font is big.
<p>See also  <a href="#e0dc16">minLeftBearing</a>() and <a href="#b48a19">rightBearing</a>(char).
<h3 class="fn">QFontMetrics &amp; <a name="0643c3"></a>QFontMetrics::operator= ( const QFontMetrics &amp; fm )</h3>
<p>Font metrics assignment.
<h3 class="fn">int <a name="b48a19"></a>QFontMetrics::rightBearing ( <a href="qchar.html">QChar</a> ch ) const</h3>
<p>Returns the right bearing of character <em>ch</em> in the font.
<p>The right bearing is the leftward distance of the right-most pixel
of the character from the logical origin of a subsequent character.
This value is negative if the pixels of the character extend
to the right of the <a href="#321192">width</a>() of the character.
<p>See width() for a graphical description of this metric.
<p>See also  <a href="#99380f">leftBearing</a>(char), <a href="#3f0b8e">minRightBearing</a>() and <a href="#321192">width</a>().
<h3 class="fn"><a href="qsize.html">QSize</a> <a name="18c02f"></a>QFontMetrics::size ( int flgs, const <a href="qstring.html">QString</a> &amp; str, int len=-1, int tabstops=0, int * tabarray=0, char ** intern=0 ) const</h3>
<p>Returns the size in pixels of the first <em>len</em> characters of <em>str.</em>
<p>If <em>len</em> is negative (default value), the whole string is used.
<p>The <em>flgs</em> argument is
the bitwise OR of the following flags:  <ul>
<li> <code>SingleLine</code> ignores newline characters in the text.
<li> <code>ExpandTabs</code> expands tabulators.
<li> <code>ShowPrefix</code> interprets "&x" as "x" underlined.
<li> <code>WordBreak</code> breaks the text to fit the rectangle.
</ul>
<p>These flags are defined in <a href="qnamespace-h.html">qnamespace.h</a>.
<p>If <code>ExpandTabs</code> is set in <em>flgs,</em> then:
if <em>tabarray</em> is non.zero, it specifies a 0-terminated sequence
of pixel-positions for tabs; otherwise
if <em>tabstops</em> is non-zero, it is used as the tab spacing (in pixels).
<p>Newline characters are processed as linebreaks.
<p>Despite the different actual character heights, the heights of the
bounding rectangles of "Yes" and "yes" are the same.
<p>The <em>internal</em> argument is for internal purposes.
<p>See also  <a href="#0f95c3">boundingRect</a>().
<h3 class="fn">int <a name="3d7ea3"></a>QFontMetrics::strikeOutPos () const</h3>
<p>Returns the distance from the base line to where the strike-out line
should be drawn.
<p>See also  <a href="#f95cf6">underlinePos</a>() and <a href="#eb52d8">lineWidth</a>().
<h3 class="fn">int <a name="f95cf6"></a>QFontMetrics::underlinePos () const</h3>
<p>Returns the distance from the base line to where an underscore should be
drawn.
<p>See also  <a href="#3d7ea3">strikeOutPos</a>() and <a href="#eb52d8">lineWidth</a>().
<h3 class="fn">int <a name="d24db3"></a>QFontMetrics::width ( <a href="qchar.html">QChar</a> ch ) const</h3>
<p><img src="bearings.png" align=right> Returns the logical width of a
<em>ch</em> in pixels.  This is a distance appropriate for drawing a
subsequent character after <em>ch.</em>
<p>Some of the metrics are described in the image to the right.  The
tall dark rectangle covers the logical <a href="#321192">width</a>() of a character.  The
shorter pale rectangles cover <a href="#99380f">leftBearing</a>() and <a href="#b48a19">rightBearing</a>() of
the characters.  Notice that the bearings of "f" in this particular
font are both negative, while the bearings of "o" are both positive.
<p>See also  <a href="#0f95c3">boundingRect</a>().
<h3 class="fn">int <a name="321192"></a>QFontMetrics::width ( const <a href="qstring.html">QString</a> &amp; str, int len = -1 ) const</h3>
<p>Returns the width in pixels of the first <em>len</em> characters of <em>str.</em>
<p>If <em>len</em> is negative (the default value is), the whole string is used.
<p>Note that this value is <em>not</em> equal to <a href="#0f95c3">boundingRect</a>().width();
boundingRect() returns a rectangle describing the pixels this string
will cover whereas width() returns the distance to where the next string
should be drawn.
<p>See also  <a href="#0f95c3">boundingRect</a>().
<p>Examples:
 <a href="drawdemo-drawdemo-cpp.html#width">drawdemo/drawdemo.cpp</a>
 <a href="scrollview-scrollview-cpp.html#width">scrollview/scrollview.cpp</a>
 <a href="movies-main-cpp.html#width">movies/main.cpp</a>
<h3 class="fn">int <a name="fecb67"></a>QFontMetrics::width ( char c ) const</h3>
<p><b>This function is obsolete.</b> It is provided to keep old source working, and will probably be removed in a future version of Qt.  We strongly advise against using it in new code.<p>This is an overloaded member function, provided for convenience.  It differs from the above function only in what argument(s) it accepts.
<p>Provided to aid porting from Qt 1.x.
<hr><p>
Search the documentation, FAQ, qt-interest archive and more (uses
<a href="http://www.trolltech.com">www.trolltech.com</a>):<br>
<form method=post action="http://www.trolltech.com/search.cgi">
<input type=hidden name="version" value="2.3.1"><nobr>
<input size="50" name="search"><input type=submit value="Search">
</nobr></form><hr><p>
This file is part of the <a href="index.html">Qt toolkit</a>,
copyright &copy; 1995-2000
<a href="http://www.trolltech.com">Trolltech</a>, all rights reserved.<p><address><hr><div align="center">
<table width="100%" cellspacing="0" border="0"><tr>
<td>Copyright © 2000 Trolltech<td><a href="http://www.trolltech.com/trademarks.html">Trademarks</a>
<td align="right"><div align="right">Qt version 2.3.1</div>
</table></div></address></body></html>
